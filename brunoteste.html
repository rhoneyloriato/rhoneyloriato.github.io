<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        .display{
            display: block;
        }
        #palavra{
            font-weight: bold;
            font-size: 30px;
            letter-spacing: 10px;
            word-wrap: break-word;
        }   
        body{
            text-align: center;
        }
        #letra{
            width: 25px;
            text-transform: uppercase;
        }
    </style>
    <title></title>
</head>
<body>
    <button onclick="iniciar()"> Iniciar</button>
    <div id="palavra"></div>
    <hr />
        <div id="letrasTentadas"></div>
        <hr /> <br />
    Letra:
    <input type="text" id="letra"  maxlength="1" value=""></input>
    
    <input type="submit" onclick="tentativa(document.getElementById('letra').value)" value="Tentar" />
    <button onclick="dica()">Dica</button>
    <script type="text/javascript">
        var palavras = ["ABACATE", "ABACAXI", "ABIU", "ABRUNHO", "ABUTUA", "AÇAÍ", "ACEROLA", "ACHACHAIRU", "ACHUÁ", "AGUAÍ", "AJURU", "AKEE", "AMEIXA", "AMÊNDOA", "AMORA", "ANTIDESMA", "APIRANGA", "ARAÇÁ", "ARICURI", "ARIRI", "ATEMOIA", "AVELÃ", "AVOCADO", "BABACO", "BABAÇU", "BACABA", "BACURI", "BACURIPARI", "BALATA", "BANANA", "BARU", "BILIMBI", "BIRIBÁ", "BURANHÉM", "BURITI", "BUTIÁ", "CABELUDINHA", "CACAU", "CAFEZINHO", "CAGAITA", "CAINITO", "CAJÁ", "CAJU", "CALABAÇA", "CALABURA", "CALAMONDIN", "CAMBUCÁ", "CAMBUCI", "CAMUTIM", "CANISTEL", "CAQUI", "CARAMBOLA", "CARAMURI", "CARISSA", "CEREJA", "CHAMPEDAKE", "CHERIMOIA", "CIRIGUELA", "COCO", "CONDESSA", "CRANBERRY", "CRUÁ", "CUBIU", "CUPUAÇU", "CURUBA", "CUTITE", "DAMASCO", "DENDÊ", "DURIAN", "ESFREGADINHA", "FEIJOA", "FIGO", "FRAMBOESA", "GLYCOSMIS", "GOIABA", "GRANADILHA", "GRAVIOLA", "GROSELHA", "GRUMIXAMA", "GUABIJU", "GUABIROBA", "GUAÇATUNGA", "GUACHAMACA", "GUAGILOTE", "GUAMIRIM", "GUARANÁ", "HEISTÉRIA", "IMBÉ", "INAJÁ", "JABUTICABA", "JACA", "JAMBO", "JAMBOLÃO", "JARACATIÁ", "JATOBÁ", "JUÁ", "JUJUBA", "KINO", "KUMQUAT", "LACUCHA", "LANDIN", "LARANJA", "LICHIA", "LOBEIRA", "LONGAN", "LUCUMA", "LULO", "MABOLO", "MAÇÃ", "MACADÂMIA", "MAMÃO", "MAMEY", "MANGA", "MANGABA", "MANGOSTÃO", "MARACUJÁ", "MARMELO", "MAROLO", "MELANCIA", "MELÃO", "MIRTILO", "MORANGO", "MURICI", "MURUMURU", "NARANJILLA", "NECTARINA", "NÊSPERA", "NONI", "ORANGELO", "PAJURÁ", "PATAUÁ", "PEQUI", "PERA", "PÊSSEGO", "PHYSALIS", "PINDAÍVA", "PINHA", "PINHÃO", "PISTÁCHIO", "PITAIA", "PITANGATUBA", "PIXIRICA", "POMELO", "PUÇÁ", "PULASAN", "PUPUNHA", "RAMBAI", "RAMBUTÃO", "RANDIA", "ROMÃ", "RUKAM", "SACHAMANGO", "SAGUARAJI", "SALAK", "SANTOL", "SAPOTI", "SAPUCAIA", "SAPUTÁ", "SORVA", "TAIUVA", "TÂMARA", "TAMARINDO", "TANGERINA", "TANGOR", "TAPEREBÁ", "TAPIÁ", "TARUMÃ", "TATAJUBA", "TORANJA", "TOTAI", "TUCUJÁ", "TUCUM", "TUCUMÃ", "UARÁ", "UBUÇU", "UCHUVA", "UMBU", "UMBUGUELA", "UMÊ", "UVA", "UVAIA", "UXI", "WAMPI", "XIXÁ"];
        
    var qtde = palavras.length -1;
    var tamv = qtde.length;
    var n = Math.round(Math.random() *qtde);
    var selecionarpalavra = palavras[n];
    jogo = "_".repeat(selecionarpalavra.length);
    defineletras(selecionarpalavra.length); 
    var letrasTentadas = []; 
    var chance = 10;  
        
    function iniciar(){
        n = Math.round(Math.random() * qtde);
        selecionarpalavra = palavras[n];
        jogo = "_".repeat(selecionarpalavra.length);
        defineletras(selecionarpalavra.length);
    }
    function defineletras(t){
                
        document.getElementById("palavra").innerHTML = jogo;
    }
    function dica(){
        alert(selecionarpalavra);
    }
    
    function tentativa(letra) {
        resetarTentativa(); 
    if (!jogo.includes("_")) {
        return;        
    }

    if (chance <= 0) {
        alert("Você Perdeu");
        return;        
    }

    if (!letra.match(/^[a-zA-Z]+$/) || letra == "") {
        alert("Caractere invalido");
        return;
    }

    var tent = letra.toUpperCase();
    
    if (letrasTentadas.includes(tent)) {
        alert("Essa letra ja foi usada!");
        return;
    }
    letrasTentadas.push(tent);
    atualizarLetrasTentadas();
    
    if (padronizaStr(selecionarpalavra).includes(tent)) {
        
        jogo = jogo.replaceAt(tent);         
        atualizarJogo();
    } else {
        chance--;
        atualizarChances();
    }
}
function atualizarJogo() {
    
    document.getElementById("palavra").innerHTML = jogo;

    if (padronizaStr(selecionarpalavra) == jogo) {
        alert("Parabéns Você Ganhou");
        chances = 0;
    }
}

String.prototype.replaceAt = function(replacement) {
    var novoTexto = this;
    var palavraPadronizada = padronizaStr(selecionarpalavra);
    
    for(var i = 0; i < palavraPadronizada.length; i++) {
        if (palavraPadronizada[i] === replacement) {
            novoTexto = novoTexto.substr(0, i) + palavraPadronizada[i] + novoTexto.substr(i + 1);
        }
    }

    return novoTexto;
}

function atualizarLetrasTentadas() {
    document.getElementById("letrasTentadas").innerHTML = "<b>Letras tentadas:<br /></b> " + letrasTentadas;
}

function resetarTentativa() {
    var tentativaComponente = document.getElementById("letra");
    tentativaComponente.value = "";
    tentativaComponente.focus();
}

function padronizaStr(str) {
  str = str.toLowerCase();

  return str.toUpperCase();
}
    </script>
</body>
</html>
